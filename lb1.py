import requests
import json

# currency, currencyCode, monobankBuy, monobankSell, pbBuy, pbSell
exchange_rates = [
    ['USD', 840, 0, 0, 0, 0],
    ['EUR', 978, 0, 0, 0, 0],
]

privatbank = requests.get('https://api.privatbank.ua/p24api/pubinfo?json&exchange&coursid=5')
result = privatbank.json()
# privatbank = '[{"ccy": "USD", "base_ccy": "UAH", "buy": "39.50000", "sale": "39.99000"}, {"ccy": "EUR", "base_ccy": "UAH", "buy": "37.90000", "sale": "38.90000"}, {"ccy": "BTC", "base_ccy": "USD", "buy": "18344.3412", "sale": "20275.3244"}]'
# result = json.loads(privatbank)

for exchange_rate_item in result:
    for exchange_rate in exchange_rates:
        if (exchange_rate[0] == exchange_rate_item['ccy']) and (exchange_rate_item['base_ccy'] == 'UAH'):
            exchange_rate[4] = exchange_rate_item['buy']
            exchange_rate[5] = exchange_rate_item['sale']


monobank = requests.get('https://api.monobank.ua/bank/currency')
result = monobank.json()
# monobank = '[{"currencyCodeA": 840, "currencyCodeB": 980, "date": 1666645809, "rateBuy": 36.65, "rateSell": 37.4406}, {"currencyCodeA": 978, "currencyCodeB": 980, "date": 1666645809, "rateBuy": 36.05, "rateSell": 37.4406}, {"currencyCodeA": 978, "currencyCodeB": 840, "date": 1666645809, "rateBuy": 0.977, "rateSell": 0.992}, {"currencyCodeA": 826, "currencyCodeB": 980, "date": 1666683268, "rateCross": 42.729}, {"currencyCodeA": 392, "currencyCodeB": 980, "date": 1666683257, "rateCross": 0.2557}, {"currencyCodeA": 756, "currencyCodeB": 980, "date": 1666683236, "rateCross": 37.6477}, {"currencyCodeA": 156, "currencyCodeB": 980, "date": 1666682222, "rateCross": 5.1647}, {"currencyCodeA": 784, "currencyCodeB": 980, "date": 1666683146, "rateCross": 10.184}, {"currencyCodeA": 971, "currencyCodeB": 980, "date": 1663425223, "rateCross": 0.4252}, {"currencyCodeA": 8, "currencyCodeB": 980, "date": 1666682365, "rateCross": 0.3155}, {"currencyCodeA": 51, "currencyCodeB": 980, "date": 1666682497, "rateCross": 0.0933}, {"currencyCodeA": 973, "currencyCodeB": 980, "date": 1666446109, "rateCross": 0.0837}, {"currencyCodeA": 32, "currencyCodeB": 980, "date": 1666683199, "rateCross": 0.2419}, {"currencyCodeA": 36, "currencyCodeB": 980, "date": 1666683233, "rateCross": 24.0106}, {"currencyCodeA": 944, "currencyCodeB": 980, "date": 1666682719, "rateCross": 22.0344}, {"currencyCodeA": 50, "currencyCodeB": 980, "date": 1666646614, "rateCross": 0.3699}, {"currencyCodeA": 975, "currencyCodeB": 980, "date": 1666683250, "rateCross": 18.9162}, {"currencyCodeA": 48, "currencyCodeB": 980, "date": 1666677507, "rateCross": 99.405}, {"currencyCodeA": 108, "currencyCodeB": 980, "date": 1538606522, "rateCross": 0.0158}, {"currencyCodeA": 96, "currencyCodeB": 980, "date": 1665874173, "rateCross": 26.718}, {"currencyCodeA": 68, "currencyCodeB": 980, "date": 1666578946, "rateCross": 5.4579}, {"currencyCodeA": 986, "currencyCodeB": 980, "date": 1666682790, "rateCross": 7.2367}, {"currencyCodeA": 72, "currencyCodeB": 980, "date": 1666602084, "rateCross": 2.7897}, {"currencyCodeA": 933, "currencyCodeB": 980, "date": 1666681643, "rateCross": 15.0992}, {"currencyCodeA": 124, "currencyCodeB": 980, "date": 1666683036, "rateCross": 27.5169}, {"currencyCodeA": 976, "currencyCodeB": 980, "date": 1655462332, "rateCross": 0.0163}, {"currencyCodeA": 152, "currencyCodeB": 980, "date": 1666672537, "rateCross": 0.0381}, {"currencyCodeA": 170, "currencyCodeB": 980, "date": 1666671404, "rateCross": 0.0076}, {"currencyCodeA": 188, "currencyCodeB": 980, "date": 1666665834, "rateCross": 0.0602}, {"currencyCodeA": 192, "currencyCodeB": 980, "date": 1666645207, "rateCross": 1.5237}, {"currencyCodeA": 203, "currencyCodeB": 980, "date": 1666683271, "rateCross": 1.515}, {"currencyCodeA": 262, "currencyCodeB": 980, "date": 1666633121, "rateCross": 0.2109}, {"currencyCodeA": 208, "currencyCodeB": 980, "date": 1666683269, "rateCross": 4.9832}, {"currencyCodeA": 12, "currencyCodeB": 980, "date": 1666646779, "rateCross": 0.2669}, {"currencyCodeA": 818, "currencyCodeB": 980, "date": 1666682799, "rateCross": 1.9093}, {"currencyCodeA": 230, "currencyCodeB": 980, "date": 1666154019, "rateCross": 0.718}, {"currencyCodeA": 981, "currencyCodeB": 980, "date": 1666683194, "rateCross": 13.7351}, {"currencyCodeA": 936, "currencyCodeB": 980, "date": 1666682618, "rateCross": 2.677}, {"currencyCodeA": 270, "currencyCodeB": 980, "date": 1666110764, "rateCross": 0.665}, {"currencyCodeA": 324, "currencyCodeB": 980, "date": 1664815293, "rateCross": 0.0044}, {"currencyCodeA": 344, "currencyCodeB": 980, "date": 1666676219, "rateCross": 4.7705}, {"currencyCodeA": 191, "currencyCodeB": 980, "date": 1666683249, "rateCross": 4.9186}, {"currencyCodeA": 348, "currencyCodeB": 980, "date": 1666683186, "rateCross": 0.0904}, {"currencyCodeA": 360, "currencyCodeB": 980, "date": 1666683270, "rateCross": 0.0024}, {"currencyCodeA": 376, "currencyCodeB": 980, "date": 1666683223, "rateCross": 10.6307}, {"currencyCodeA": 356, "currencyCodeB": 980, "date": 1666682665, "rateCross": 0.4526}, {"currencyCodeA": 368, "currencyCodeB": 980, "date": 1666604770, "rateCross": 0.0256}, {"currencyCodeA": 364, "currencyCodeB": 980, "date": 1666645207, "rateCross": 0.0009}, {"currencyCodeA": 352, "currencyCodeB": 980, "date": 1666678753, "rateCross": 0.2581}, {"currencyCodeA": 400, "currencyCodeB": 980, "date": 1666676176, "rateCross": 52.8256}, {"currencyCodeA": 404, "currencyCodeB": 980, "date": 1666676231, "rateCross": 0.3091}, {"currencyCodeA": 417, "currencyCodeB": 980, "date": 1666682439, "rateCross": 0.4537}, {"currencyCodeA": 116, "currencyCodeB": 980, "date": 1666626249, "rateCross": 0.009}, {"currencyCodeA": 408, "currencyCodeB": 980, "date": 1666645207, "rateCross": 16.6221}, {"currencyCodeA": 410, "currencyCodeB": 980, "date": 1666683137, "rateCross": 0.0262}, {"currencyCodeA": 414, "currencyCodeB": 980, "date": 1666675641, "rateCross": 120.7981}, {"currencyCodeA": 398, "currencyCodeB": 980, "date": 1666683162, "rateCross": 0.079}, {"currencyCodeA": 418, "currencyCodeB": 980, "date": 1664596798, "rateCross": 0.0022}, {"currencyCodeA": 422, "currencyCodeB": 980, "date": 1666640091, "rateCross": 0.0012}, {"currencyCodeA": 144, "currencyCodeB": 980, "date": 1666683248, "rateCross": 0.102}, {"currencyCodeA": 434, "currencyCodeB": 980, "date": 1648958626, "rateCross": 6.4735}, {"currencyCodeA": 504, "currencyCodeB": 980, "date": 1666660573, "rateCross": 3.4183}, {"currencyCodeA": 498, "currencyCodeB": 980, "date": 1666683266, "rateCross": 1.9383}, {"currencyCodeA": 969, "currencyCodeB": 980, "date": 1663928324, "rateCross": 0.0089}, {"currencyCodeA": 807, "currencyCodeB": 980, "date": 1666642946, "rateCross": 0.5918}, {"currencyCodeA": 496, "currencyCodeB": 980, "date": 1665918523, "rateCross": 0.0112}, {"currencyCodeA": 478, "currencyCodeB": 980, "date": 1666645207, "rateCross": 0.0968}, {"currencyCodeA": 480, "currencyCodeB": 980, "date": 1666681089, "rateCross": 0.829}, {"currencyCodeA": 454, "currencyCodeB": 980, "date": 1633949773, "rateCross": 0.0325}, {"currencyCodeA": 484, "currencyCodeB": 980, "date": 1666681106, "rateCross": 1.8804}, {"currencyCodeA": 458, "currencyCodeB": 980, "date": 1666683025, "rateCross": 7.9037}, {"currencyCodeA": 943, "currencyCodeB": 980, "date": 1666603522, "rateCross": 0.5847}, {"currencyCodeA": 516, "currencyCodeB": 980, "date": 1666682709, "rateCross": 2.0741}, {"currencyCodeA": 566, "currencyCodeB": 980, "date": 1666669560, "rateCross": 0.0849}, {"currencyCodeA": 558, "currencyCodeB": 980, "date": 1666644419, "rateCross": 1.0373}, {"currencyCodeA": 578, "currencyCodeB": 980, "date": 1666682629, "rateCross": 3.6003}, {"currencyCodeA": 524, "currencyCodeB": 980, "date": 1666651903, "rateCross": 0.2834}, {"currencyCodeA": 554, "currencyCodeB": 980, "date": 1666680386, "rateCross": 21.6823}, {"currencyCodeA": 512, "currencyCodeB": 980, "date": 1666674160, "rateCross": 97.1582}, {"currencyCodeA": 604, "currencyCodeB": 980, "date": 1666661618, "rateCross": 9.3691}, {"currencyCodeA": 608, "currencyCodeB": 980, "date": 1666680899, "rateCross": 0.6357}, {"currencyCodeA": 586, "currencyCodeB": 980, "date": 1666682677, "rateCross": 0.1696}, {"currencyCodeA": 985, "currencyCodeB": 980, "date": 1666683275, "rateCross": 7.747}, {"currencyCodeA": 600, "currencyCodeB": 980, "date": 1666657878, "rateCross": 0.0051}, {"currencyCodeA": 634, "currencyCodeB": 980, "date": 1666682736, "rateCross": 10.2915}, {"currencyCodeA": 946, "currencyCodeB": 980, "date": 1666683223, "rateCross": 7.5563}, {"currencyCodeA": 941, "currencyCodeB": 980, "date": 1666682203, "rateCross": 0.3156}, {"currencyCodeA": 682, "currencyCodeB": 980, "date": 1666677580, "rateCross": 9.977}, {"currencyCodeA": 690, "currencyCodeB": 980, "date": 1666612827, "rateCross": 2.6158}, {"currencyCodeA": 938, "currencyCodeB": 980, "date": 1666645207, "rateCross": 0.0635}, {"currencyCodeA": 752, "currencyCodeB": 980, "date": 1666683181, "rateCross": 3.3697}, {"currencyCodeA": 702, "currencyCodeB": 980, "date": 1666681740, "rateCross": 26.4809}, {"currencyCodeA": 694, "currencyCodeB": 980, "date": 1664217991, "rateCross": 0.0024}, {"currencyCodeA": 706, "currencyCodeB": 980, "date": 1666645207, "rateCross": 0.0647}, {"currencyCodeA": 968, "currencyCodeB": 980, "date": 1659795594, "rateCross": 1.5023}, {"currencyCodeA": 760, "currencyCodeB": 980, "date": 1666645207, "rateCross": 0.0121}, {"currencyCodeA": 748, "currencyCodeB": 980, "date": 1661589219, "rateCross": 2.2455}, {"currencyCodeA": 764, "currencyCodeB": 980, "date": 1666683033, "rateCross": 0.9854}, {"currencyCodeA": 972, "currencyCodeB": 980, "date": 1666682815, "rateCross": 3.6654}, {"currencyCodeA": 795, "currencyCodeB": 980, "date": 1666645207, "rateCross": 0.0021}, {"currencyCodeA": 788, "currencyCodeB": 980, "date": 1666647281, "rateCross": 11.6625}, {"currencyCodeA": 949, "currencyCodeB": 980, "date": 1666683267, "rateCross": 2.0349}, {"currencyCodeA": 901, "currencyCodeB": 980, "date": 1666681987, "rateCross": 1.1588}, {"currencyCodeA": 834, "currencyCodeB": 980, "date": 1666649285, "rateCross": 0.0163}, {"currencyCodeA": 800, "currencyCodeB": 980, "date": 1666615362, "rateCross": 0.0098}, {"currencyCodeA": 858, "currencyCodeB": 980, "date": 1666667579, "rateCross": 0.9084}, {"currencyCodeA": 860, "currencyCodeB": 980, "date": 1666681501, "rateCross": 0.0033}, {"currencyCodeA": 937, "currencyCodeB": 980, "date": 1666645207, "rateCross": 4.3604}, {"currencyCodeA": 704, "currencyCodeB": 980, "date": 1666681738, "rateCross": 0.0015}, {"currencyCodeA": 950, "currencyCodeB": 980, "date": 1666665044, "rateCross": 0.0562}, {"currencyCodeA": 952, "currencyCodeB": 980, "date": 1666551372, "rateCross": 0.0557}, {"currencyCodeA": 886, "currencyCodeB": 980, "date": 1543715495, "rateCross": 0.112}, {"currencyCodeA": 710, "currencyCodeB": 980, "date": 1666678628, "rateCross": 2.0784}, {"currencyCodeA": 894, "currencyCodeB": 980, "date": 1666645207, "rateCross": 0.0023}]'
# result = json.loads(monobank)

if 'errorDescription' not in result:
    for exchange_rate_item in result:
        for exchange_rate in exchange_rates:
            if (exchange_rate[1] == exchange_rate_item['currencyCodeA']) and (exchange_rate_item['currencyCodeB'] == 980):
                exchange_rate[2] = exchange_rate_item['rateBuy']
                exchange_rate[3] = exchange_rate_item['rateSell']

print("| {:<13} | {:<10} | {:<10} |".format("", "PRIVATBANK", "MONOBANK"))

for exchange_rate in exchange_rates:
    print("| {:<8}  BUY | {:<10} | {:<10.4f} |".format(exchange_rate[0], exchange_rate[4], exchange_rate[2]))
    print("| {:<8} SELL | {:<10} | {:<10} |".format(exchange_rate[0], exchange_rate[5], exchange_rate[3]))
